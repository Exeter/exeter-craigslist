<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" type="text/css" href="stylesheet.css">

		<script src="third-party/zepto.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="third-party/cookies.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="third-party/underscore-min.js" type="text/javascript" charset="utf-8"></script>
		<script src="third-party/backbone-min.js" type="text/javascript" charset="utf-8"></script>

		<script src="app.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/html" id="login-template">
			<form id="login-form" action="">
				<input type="text" id="login_username" placeholder="PEA username" />
				<input type="password" id="login_password" placeholder="PEA password" />
				<input type="submit" value="Login"/>
			</form>
		</script>
		<script type="text/html" id="account-template">
			<ul id="account-stuff">
				<li id="new-post">new post</li>
				<li id="my-posts">my posts</li>
				<li id="logout">logout</li>
			</ul>
		</script>
		<title>Craigslist</title>
	</head>
	<body>
		<h1 id="title">exeter-craigslist</h1>
		<div id="account-area"></div>
		<div id="content"></div>
		<div id="about">
			Created by <a href="/">Exeter Computing Club</a>.
			<a href="https://github.com/Exeter/exeter-craigslist">Github</a>.
		</div>
	</body>

	<!--Add post stuff-->
	<script type="text/html" id="add-post-template">
	      <h1>add post</h1>

	      <form id = "add-post" action="" method="post">

		<input type="text" id="add_title" placeholder="title" />


		  <select id="categoryList">
		    <option value="textbooks">textbooks</option>
		    <option value="electronics">electronics</option>
		    <option value="furniture">furniture</option>
		    <option value="supplies">supplies</option>
		    <option value="other">other</option>
		  </select>

		<input type="text" id="add_price" placeholder="add price" />


		<div style="clear:left;">
		  <p> upload picture </p>
		  <input type="hidden" name="MAX_FILE_SIZE" value="500" />
		  <input type="file" name="uploadField" />
		</div>


		<div style="clear:left;">
		  <p> add description </p> 
		  <textarea name="limitedtextarea" rows="5" cols = "50"
			    onKeyPress="return limitChar(this)"
			    onKeyUp="return charLen(this)"></textarea>
		  <p>you have <span id="charCount">300</span> characters left.</p>
		</div> 


		<div style = "clear:left;">
		  <div style="padding-right:5px; float:left;">
		    <input type="checkbox" name="legal" value="checked">
		  </div>

		  <div style="float:left;">
		    <a href="http://www.exeter.edu/documents/ebook.pdf" target="_blank">I'm not being stupid</a>  
		  </div>        

		  <div style="clear:left; padding-top:5px;">
		    <input type="submit" value="post">
		  </div> 
		</div> 
	      </form>
	    </div>

	    <div id="add-post-instructions">
	      <dl>
		<dt id="guidelines"> include the condition of the textbook </dt>
		<br>
		<dt>make sure you specify a price.  </dt>
		<br>
		<dt> add hashtags in your description!</dt>
		<dd id = "tagone"> #physics </dd>
		<dd id = "tagtwo"> #english </dd>
		<dd id = "tagthree"> #spanish </dd>
	      </dl>

	    <script type="text/javascript">
	      var maxLength=300;
	      function limitChar(el) {
	      if (el.value.length > maxLength) return false;
	      return true;
	      }
	      function charLen(el) {
	      var charCount = document.getElementById('charCount');
	      if (el.value.length > maxLength) el.value = el.value.substring(0,maxLength);
	      if (charCount) charCount.innerHTML = maxLength - el.value.length;
	      return true;
	      }

	      $("#categoryList").change(function(e) {
	      var category = $(this).val();  
	      if(category == "textbooks") {
	      document.getElementById("guidelines").innerHTML ="include the condition of the textbook";
	      document.getElementById("tagone").innerHTML="#physics"
	      document.getElementById("tagtwo").innerHTML="#english"
	      document.getElementById("tagthree").innerHTML="#spanish"
	      }
	      if(category == "electronics") {
	      document.getElementById("guidelines").innerHTML ="electronics";
	      document.getElementById("tagone").innerHTML="#ti89"
	      document.getElementById("tagtwo").innerHTML=""
	      document.getElementById("tagthree").innerHTML=""      
	      }
	      if(category == "furniture") {
	      document.getElementById("guidelines").innerHTML="include which dorm you're in";     
	      document.getElementById("tagone").innerHTML="#futon"
	      document.getElementById("tagtwo").innerHTML="#sofa"
	      document.getElementById("tagthree").innerHTML="#lamp"       
	      }
	      if(category == "supplies") {
	      var el = document.getElementById("guidelines").innerHTML ="include the condition of the supplies";   
	      document.getElementById("tagone").innerHTML="#graphpaper"
	      document.getElementById("tagtwo").innerHTML="#binder"
	      document.getElementById("tagthree").innerHTML="#scissors"           
	      }
	      if(category == "other") {
	      var el = document.getElementById("guidelines").innerHTML ="";      
	      document.getElementById("tagone").innerHTML=""
	      document.getElementById("tagtwo").innerHTML=""
	      document.getElementById("tagthree").innerHTML=""     
	      }
	      });
    </script>
		
	</script>
</html>
